{"ast":null,"code":"import React,{useState}from'react';import'../styles/DataTable.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function getValue(row,key){if(!key)return'';// support nested keys like 'owner.name'\nconst parts=key.split('.');let v=row;for(const p of parts){if(v==null)return'';v=v[p];}if(v==null)return'';if(typeof v==='object'){var _ref,_ref2,_ref3,_v$name;// prefer common display fields\nreturn(_ref=(_ref2=(_ref3=(_v$name=v.name)!==null&&_v$name!==void 0?_v$name:v.title)!==null&&_ref3!==void 0?_ref3:v.email)!==null&&_ref2!==void 0?_ref2:v._id)!==null&&_ref!==void 0?_ref:JSON.stringify(v);}return v;}function DataTable(_ref4){let{columns,data,actions=[]}=_ref4;const[search,setSearch]=useState('');const[page,setPage]=useState(1);const pageSize=5;const filtered=data.filter(row=>columns.some(col=>String(getValue(row,col.key)).toLowerCase().includes(search.toLowerCase())));const paged=filtered.slice((page-1)*pageSize,page*pageSize);const pageCount=Math.max(1,Math.ceil(filtered.length/pageSize));return/*#__PURE__*/_jsxs(\"div\",{className:\"datatable-wrapper\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"datatable-controls\",children:/*#__PURE__*/_jsx(\"input\",{className:\"datatable-search\",placeholder:\"Search...\",value:search,onChange:e=>{setSearch(e.target.value);setPage(1);}})}),/*#__PURE__*/_jsxs(\"table\",{className:\"datatable\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[columns.map(col=>/*#__PURE__*/_jsx(\"th\",{children:col.label},col.key)),actions.length>0&&/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:paged.map(row=>/*#__PURE__*/_jsxs(\"tr\",{children:[columns.map(col=>/*#__PURE__*/_jsx(\"td\",{children:getValue(row,col.key)},col.key)),actions.length>0&&/*#__PURE__*/_jsx(\"td\",{children:actions.map((a,i)=>/*#__PURE__*/_jsx(\"button\",{className:\"datatable-action\",onClick:()=>a.onClick(row),children:a.label},i))})]},row._id||row.id))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"datatable-pagination\",children:[/*#__PURE__*/_jsx(\"button\",{disabled:page===1,onClick:()=>setPage(p=>p-1),children:\"<\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Page \",page,\" of \",pageCount]}),/*#__PURE__*/_jsx(\"button\",{disabled:page===pageCount,onClick:()=>setPage(p=>p+1),children:\">\"})]})]});}export default DataTable;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","getValue","row","key","parts","split","v","p","_ref","_ref2","_ref3","_v$name","name","title","email","_id","JSON","stringify","DataTable","_ref4","columns","data","actions","search","setSearch","page","setPage","pageSize","filtered","filter","some","col","String","toLowerCase","includes","paged","slice","pageCount","Math","max","ceil","length","className","children","placeholder","value","onChange","e","target","map","label","a","i","onClick","id","disabled"],"sources":["E:/Resturant/admin/src/components/DataTable.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport '../styles/DataTable.css';\r\n\r\nfunction getValue(row, key) {\r\n  if (!key) return '';\r\n  // support nested keys like 'owner.name'\r\n  const parts = key.split('.');\r\n  let v = row;\r\n  for (const p of parts) {\r\n    if (v == null) return '';\r\n    v = v[p];\r\n  }\r\n  if (v == null) return '';\r\n  if (typeof v === 'object') {\r\n    // prefer common display fields\r\n    return v.name ?? v.title ?? v.email ?? v._id ?? JSON.stringify(v);\r\n  }\r\n  return v;\r\n}\r\n\r\nfunction DataTable({ columns, data, actions = [] }) {\r\n  const [search, setSearch] = useState('');\r\n  const [page, setPage] = useState(1);\r\n  const pageSize = 5;\r\n\r\n  const filtered = data.filter(row =>\r\n    columns.some(col => String(getValue(row, col.key)).toLowerCase().includes(search.toLowerCase()))\r\n  );\r\n  const paged = filtered.slice((page-1)*pageSize, page*pageSize);\r\n  const pageCount = Math.max(1, Math.ceil(filtered.length / pageSize));\r\n\r\n  return (\r\n    <div className=\"datatable-wrapper\">\r\n      <div className=\"datatable-controls\">\r\n        <input\r\n          className=\"datatable-search\"\r\n          placeholder=\"Search...\"\r\n          value={search}\r\n          onChange={e => { setSearch(e.target.value); setPage(1); }}\r\n        />\r\n      </div>\r\n      <table className=\"datatable\">\r\n        <thead>\r\n          <tr>\r\n            {columns.map(col => <th key={col.key}>{col.label}</th>)}\r\n            {actions.length > 0 && <th>Actions</th>}\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {paged.map(row => (\r\n            <tr key={row._id || row.id}>\r\n              {columns.map(col => <td key={col.key}>{getValue(row, col.key)}</td>)}\r\n              {actions.length > 0 && (\r\n                <td>\r\n                  {actions.map((a,i) => (\r\n                    <button key={i} className=\"datatable-action\" onClick={() => a.onClick(row)}>{a.label}</button>\r\n                  ))}\r\n                </td>\r\n              )}\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n      <div className=\"datatable-pagination\">\r\n        <button disabled={page===1} onClick={()=>setPage(p=>p-1)}>&lt;</button>\r\n        <span>Page {page} of {pageCount}</span>\r\n        <button disabled={page===pageCount} onClick={()=>setPage(p=>p+1)}>&gt;</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default DataTable;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}