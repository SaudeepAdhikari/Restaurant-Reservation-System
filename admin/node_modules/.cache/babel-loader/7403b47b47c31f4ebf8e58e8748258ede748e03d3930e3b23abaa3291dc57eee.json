{"ast":null,"code":"import React,{useEffect,useState}from'react';import DataTable from'../components/DataTable';import{authFetch}from'../utils/auth';import'../styles/Restaurants.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Restaurants(){const[data,setData]=useState([]);useEffect(()=>{authFetch('/api/admin/restaurants').then(setData).catch(console.error);},[]);async function handleApprove(id){try{const res=await authFetch(\"/api/admin/restaurants/\".concat(id,\"/approve\"),{method:'PUT'});setData(d=>d.map(x=>x._id===id?res:x));}catch(err){console.error(err);}}async function handleDelete(id){if(!window.confirm('Delete restaurant?'))return;try{await authFetch(\"/api/admin/restaurants/\".concat(id),{method:'DELETE'});setData(d=>d.filter(x=>x._id!==id));}catch(err){console.error(err);}}return/*#__PURE__*/_jsxs(\"div\",{className:\"restaurants-page\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Restaurants\"}),/*#__PURE__*/_jsx(DataTable,{columns:[{label:'Name',key:'name'},{label:'Owner',key:'ownerId'},{label:'Status',key:'approved'}],data:data,actions:[{label:'Approve',onClick:handleApprove},{label:'Delete',onClick:handleDelete}]})]});}export default Restaurants;","map":{"version":3,"names":["React","useEffect","useState","DataTable","authFetch","jsx","_jsx","jsxs","_jsxs","Restaurants","data","setData","then","catch","console","error","handleApprove","id","res","concat","method","d","map","x","_id","err","handleDelete","window","confirm","filter","className","children","columns","label","key","actions","onClick"],"sources":["E:/Resturant/admin/src/pages/Restaurants.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport DataTable from '../components/DataTable';\r\nimport { authFetch } from '../utils/auth';\r\nimport '../styles/Restaurants.css';\r\n\r\nfunction Restaurants() {\r\n  const [data, setData] = useState([]);\r\n\r\n  useEffect(() => {\r\n    authFetch('/api/admin/restaurants')\r\n      .then(setData)\r\n      .catch(console.error);\r\n  }, []);\r\n\r\n  async function handleApprove(id) {\r\n    try {\r\n      const res = await authFetch(`/api/admin/restaurants/${id}/approve`, { method: 'PUT' });\r\n      setData(d => d.map(x => x._id === id ? res : x));\r\n    } catch (err) { console.error(err); }\r\n  }\r\n\r\n  async function handleDelete(id) {\r\n    if (!window.confirm('Delete restaurant?')) return;\r\n    try {\r\n      await authFetch(`/api/admin/restaurants/${id}`, { method: 'DELETE' });\r\n      setData(d => d.filter(x => x._id !== id));\r\n    } catch (err) { console.error(err); }\r\n  }\r\n\r\n  return (\r\n    <div className=\"restaurants-page\">\r\n      <h2>Restaurants</h2>\r\n      <DataTable\r\n        columns={[{label:'Name',key:'name'},{label:'Owner',key:'ownerId'},{label:'Status',key:'approved'}]}\r\n        data={data}\r\n        actions={[{label:'Approve',onClick:handleApprove},{label:'Delete',onClick:handleDelete}]}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Restaurants;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,SAAS,KAAM,yBAAyB,CAC/C,OAASC,SAAS,KAAQ,eAAe,CACzC,MAAO,2BAA2B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEnC,QAAS,CAAAC,WAAWA,CAAA,CAAG,CACrB,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CAEpCD,SAAS,CAAC,IAAM,CACdG,SAAS,CAAC,wBAAwB,CAAC,CAChCQ,IAAI,CAACD,OAAO,CAAC,CACbE,KAAK,CAACC,OAAO,CAACC,KAAK,CAAC,CACzB,CAAC,CAAE,EAAE,CAAC,CAEN,cAAe,CAAAC,aAAaA,CAACC,EAAE,CAAE,CAC/B,GAAI,CACF,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAd,SAAS,2BAAAe,MAAA,CAA2BF,EAAE,aAAY,CAAEG,MAAM,CAAE,KAAM,CAAC,CAAC,CACtFT,OAAO,CAACU,CAAC,EAAIA,CAAC,CAACC,GAAG,CAACC,CAAC,EAAIA,CAAC,CAACC,GAAG,GAAKP,EAAE,CAAGC,GAAG,CAAGK,CAAC,CAAC,CAAC,CAClD,CAAE,MAAOE,GAAG,CAAE,CAAEX,OAAO,CAACC,KAAK,CAACU,GAAG,CAAC,CAAE,CACtC,CAEA,cAAe,CAAAC,YAAYA,CAACT,EAAE,CAAE,CAC9B,GAAI,CAACU,MAAM,CAACC,OAAO,CAAC,oBAAoB,CAAC,CAAE,OAC3C,GAAI,CACF,KAAM,CAAAxB,SAAS,2BAAAe,MAAA,CAA2BF,EAAE,EAAI,CAAEG,MAAM,CAAE,QAAS,CAAC,CAAC,CACrET,OAAO,CAACU,CAAC,EAAIA,CAAC,CAACQ,MAAM,CAACN,CAAC,EAAIA,CAAC,CAACC,GAAG,GAAKP,EAAE,CAAC,CAAC,CAC3C,CAAE,MAAOQ,GAAG,CAAE,CAAEX,OAAO,CAACC,KAAK,CAACU,GAAG,CAAC,CAAE,CACtC,CAEA,mBACEjB,KAAA,QAAKsB,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC/BzB,IAAA,OAAAyB,QAAA,CAAI,aAAW,CAAI,CAAC,cACpBzB,IAAA,CAACH,SAAS,EACR6B,OAAO,CAAE,CAAC,CAACC,KAAK,CAAC,MAAM,CAACC,GAAG,CAAC,MAAM,CAAC,CAAC,CAACD,KAAK,CAAC,OAAO,CAACC,GAAG,CAAC,SAAS,CAAC,CAAC,CAACD,KAAK,CAAC,QAAQ,CAACC,GAAG,CAAC,UAAU,CAAC,CAAE,CACnGxB,IAAI,CAAEA,IAAK,CACXyB,OAAO,CAAE,CAAC,CAACF,KAAK,CAAC,SAAS,CAACG,OAAO,CAACpB,aAAa,CAAC,CAAC,CAACiB,KAAK,CAAC,QAAQ,CAACG,OAAO,CAACV,YAAY,CAAC,CAAE,CAC1F,CAAC,EACC,CAAC,CAEV,CAEA,cAAe,CAAAjB,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}