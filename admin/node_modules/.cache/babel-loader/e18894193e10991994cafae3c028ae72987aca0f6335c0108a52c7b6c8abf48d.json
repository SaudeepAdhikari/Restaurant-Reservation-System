{"ast":null,"code":"import React,{useEffect,useState}from'react';import DataTable from'../components/DataTable';import{authFetch}from'../utils/auth';import'../styles/Customers.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Customers(){const[data,setData]=useState([]);useEffect(()=>{authFetch('/api/admin/customers').then(setData).catch(console.error);},[]);async function handleBlock(row){const id=row._id||row.id;try{const res=await authFetch(\"/api/admin/customers/\".concat(id,\"/block\"),{method:'PUT'});setData(d=>d.map(x=>x._id===id||x.id===id?res:x));}catch(err){console.error(err);}}return/*#__PURE__*/_jsxs(\"div\",{className:\"customers-page\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Customers\"}),/*#__PURE__*/_jsx(DataTable,{columns:[{label:'Name',key:'name'},{label:'Email',key:'email'},{label:'Status',key:'blocked'}],data:data,actions:[{label:'Block',onClick:handleBlock}]})]});}export default Customers;","map":{"version":3,"names":["React","useEffect","useState","DataTable","authFetch","jsx","_jsx","jsxs","_jsxs","Customers","data","setData","then","catch","console","error","handleBlock","row","id","_id","res","concat","method","d","map","x","err","className","children","columns","label","key","actions","onClick"],"sources":["E:/Resturant/admin/src/pages/Customers.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport DataTable from '../components/DataTable';\r\nimport { authFetch } from '../utils/auth';\r\nimport '../styles/Customers.css';\r\n\r\nfunction Customers() {\r\n  const [data, setData] = useState([]);\r\n\r\n  useEffect(() => {\r\n    authFetch('/api/admin/customers')\r\n      .then(setData)\r\n      .catch(console.error);\r\n  }, []);\r\n\r\n  async function handleBlock(row) {\r\n    const id = row._id || row.id;\r\n    try {\r\n      const res = await authFetch(`/api/admin/customers/${id}/block`, { method: 'PUT' });\r\n      setData(d => d.map(x => (x._id === id || x.id === id) ? res : x));\r\n    } catch (err) { console.error(err); }\r\n  }\r\n\r\n  return (\r\n    <div className=\"customers-page\">\r\n      <h2>Customers</h2>\r\n      <DataTable\r\n        columns={[{label:'Name',key:'name'},{label:'Email',key:'email'},{label:'Status',key:'blocked'}]}\r\n        data={data}\r\n        actions={[{label:'Block',onClick:handleBlock}]}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Customers;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,SAAS,KAAM,yBAAyB,CAC/C,OAASC,SAAS,KAAQ,eAAe,CACzC,MAAO,yBAAyB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEjC,QAAS,CAAAC,SAASA,CAAA,CAAG,CACnB,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CAEpCD,SAAS,CAAC,IAAM,CACdG,SAAS,CAAC,sBAAsB,CAAC,CAC9BQ,IAAI,CAACD,OAAO,CAAC,CACbE,KAAK,CAACC,OAAO,CAACC,KAAK,CAAC,CACzB,CAAC,CAAE,EAAE,CAAC,CAEN,cAAe,CAAAC,WAAWA,CAACC,GAAG,CAAE,CAC9B,KAAM,CAAAC,EAAE,CAAGD,GAAG,CAACE,GAAG,EAAIF,GAAG,CAACC,EAAE,CAC5B,GAAI,CACF,KAAM,CAAAE,GAAG,CAAG,KAAM,CAAAhB,SAAS,yBAAAiB,MAAA,CAAyBH,EAAE,WAAU,CAAEI,MAAM,CAAE,KAAM,CAAC,CAAC,CAClFX,OAAO,CAACY,CAAC,EAAIA,CAAC,CAACC,GAAG,CAACC,CAAC,EAAKA,CAAC,CAACN,GAAG,GAAKD,EAAE,EAAIO,CAAC,CAACP,EAAE,GAAKA,EAAE,CAAIE,GAAG,CAAGK,CAAC,CAAC,CAAC,CACnE,CAAE,MAAOC,GAAG,CAAE,CAAEZ,OAAO,CAACC,KAAK,CAACW,GAAG,CAAC,CAAE,CACtC,CAEA,mBACElB,KAAA,QAAKmB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BtB,IAAA,OAAAsB,QAAA,CAAI,WAAS,CAAI,CAAC,cAClBtB,IAAA,CAACH,SAAS,EACR0B,OAAO,CAAE,CAAC,CAACC,KAAK,CAAC,MAAM,CAACC,GAAG,CAAC,MAAM,CAAC,CAAC,CAACD,KAAK,CAAC,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC,CAAC,CAACD,KAAK,CAAC,QAAQ,CAACC,GAAG,CAAC,SAAS,CAAC,CAAE,CAChGrB,IAAI,CAAEA,IAAK,CACXsB,OAAO,CAAE,CAAC,CAACF,KAAK,CAAC,OAAO,CAACG,OAAO,CAACjB,WAAW,CAAC,CAAE,CAChD,CAAC,EACC,CAAC,CAEV,CAEA,cAAe,CAAAP,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}