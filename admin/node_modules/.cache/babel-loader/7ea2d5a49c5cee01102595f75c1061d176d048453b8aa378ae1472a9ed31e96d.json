{"ast":null,"code":"import React,{useEffect,useState}from'react';import DataTable from'../components/DataTable';import{authFetch}from'../utils/auth';import'../styles/Owners.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Owners(){const[data,setData]=useState([]);useEffect(()=>{authFetch('/api/admin/owners').then(setData).catch(console.error);},[]);async function handleDeactivate(id){try{const res=await authFetch(\"/api/admin/owners/\".concat(id,\"/deactivate\"),{method:'PUT'});setData(d=>d.map(x=>x._id===id?res:x));}catch(err){console.error(err);}}return/*#__PURE__*/_jsxs(\"div\",{className:\"owners-page\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Restaurant Owners\"}),/*#__PURE__*/_jsx(DataTable,{columns:[{label:'Name',key:'name'},{label:'Email',key:'email'},{label:'Status',key:'active'}],data:data,actions:[{label:'Deactivate',onClick:handleDeactivate}]})]});}export default Owners;","map":{"version":3,"names":["React","useEffect","useState","DataTable","authFetch","jsx","_jsx","jsxs","_jsxs","Owners","data","setData","then","catch","console","error","handleDeactivate","id","res","concat","method","d","map","x","_id","err","className","children","columns","label","key","actions","onClick"],"sources":["E:/Resturant/admin/src/pages/Owners.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport DataTable from '../components/DataTable';\r\nimport { authFetch } from '../utils/auth';\r\nimport '../styles/Owners.css';\r\n\r\nfunction Owners() {\r\n  const [data, setData] = useState([]);\r\n\r\n  useEffect(() => {\r\n    authFetch('/api/admin/owners')\r\n      .then(setData)\r\n      .catch(console.error);\r\n  }, []);\r\n\r\n  async function handleDeactivate(id) {\r\n    try {\r\n      const res = await authFetch(`/api/admin/owners/${id}/deactivate`, { method: 'PUT' });\r\n      setData(d => d.map(x => x._id === id ? res : x));\r\n    } catch (err) { console.error(err); }\r\n  }\r\n\r\n  return (\r\n    <div className=\"owners-page\">\r\n      <h2>Restaurant Owners</h2>\r\n      <DataTable\r\n        columns={[{label:'Name',key:'name'},{label:'Email',key:'email'},{label:'Status',key:'active'}]}\r\n        data={data}\r\n        actions={[{label:'Deactivate',onClick:handleDeactivate}]}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Owners;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,SAAS,KAAM,yBAAyB,CAC/C,OAASC,SAAS,KAAQ,eAAe,CACzC,MAAO,sBAAsB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE9B,QAAS,CAAAC,MAAMA,CAAA,CAAG,CAChB,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CAEpCD,SAAS,CAAC,IAAM,CACdG,SAAS,CAAC,mBAAmB,CAAC,CAC3BQ,IAAI,CAACD,OAAO,CAAC,CACbE,KAAK,CAACC,OAAO,CAACC,KAAK,CAAC,CACzB,CAAC,CAAE,EAAE,CAAC,CAEN,cAAe,CAAAC,gBAAgBA,CAACC,EAAE,CAAE,CAClC,GAAI,CACF,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAd,SAAS,sBAAAe,MAAA,CAAsBF,EAAE,gBAAe,CAAEG,MAAM,CAAE,KAAM,CAAC,CAAC,CACpFT,OAAO,CAACU,CAAC,EAAIA,CAAC,CAACC,GAAG,CAACC,CAAC,EAAIA,CAAC,CAACC,GAAG,GAAKP,EAAE,CAAGC,GAAG,CAAGK,CAAC,CAAC,CAAC,CAClD,CAAE,MAAOE,GAAG,CAAE,CAAEX,OAAO,CAACC,KAAK,CAACU,GAAG,CAAC,CAAE,CACtC,CAEA,mBACEjB,KAAA,QAAKkB,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BrB,IAAA,OAAAqB,QAAA,CAAI,mBAAiB,CAAI,CAAC,cAC1BrB,IAAA,CAACH,SAAS,EACRyB,OAAO,CAAE,CAAC,CAACC,KAAK,CAAC,MAAM,CAACC,GAAG,CAAC,MAAM,CAAC,CAAC,CAACD,KAAK,CAAC,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC,CAAC,CAACD,KAAK,CAAC,QAAQ,CAACC,GAAG,CAAC,QAAQ,CAAC,CAAE,CAC/FpB,IAAI,CAAEA,IAAK,CACXqB,OAAO,CAAE,CAAC,CAACF,KAAK,CAAC,YAAY,CAACG,OAAO,CAAChB,gBAAgB,CAAC,CAAE,CAC1D,CAAC,EACC,CAAC,CAEV,CAEA,cAAe,CAAAP,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}