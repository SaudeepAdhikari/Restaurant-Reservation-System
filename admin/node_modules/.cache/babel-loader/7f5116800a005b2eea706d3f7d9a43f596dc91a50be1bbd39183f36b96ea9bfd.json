{"ast":null,"code":"import React,{useState,useRef,useEffect}from'react';import{useNavigate}from'react-router-dom';import'../styles/Topbar.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Topbar(){const[open,setOpen]=useState(false);const ddRef=useRef();const navigate=useNavigate();useEffect(()=>{function onDoc(e){if(ddRef.current&&!ddRef.current.contains(e.target))setOpen(false);}document.addEventListener('click',onDoc);return()=>document.removeEventListener('click',onDoc);},[]);function handleLogout(){localStorage.removeItem('admin_token');try{window.dispatchEvent(new Event('app:logout'));}catch(e){}navigate('/login');}return/*#__PURE__*/_jsxs(\"header\",{className:\"topbar\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"topbar-title\",children:\"Restaurant Booking Admin\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"topbar-actions\",ref:ddRef,children:[/*#__PURE__*/_jsx(\"button\",{className:\"profile-btn\",onClick:()=>setOpen(v=>!v),\"aria-haspopup\":\"true\",\"aria-expanded\":open,children:/*#__PURE__*/_jsx(\"span\",{className:\"admin-avatar\",children:\"A\"})}),open&&/*#__PURE__*/_jsxs(\"div\",{className:\"profile-dropdown\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"dropdown-item\",onClick:()=>{setOpen(false);navigate('/settings');},children:\"Profile\"}),/*#__PURE__*/_jsx(\"button\",{className:\"dropdown-item\",onClick:handleLogout,children:\"Logout\"})]})]})]});}export default Topbar;","map":{"version":3,"names":["React","useState","useRef","useEffect","useNavigate","jsx","_jsx","jsxs","_jsxs","Topbar","open","setOpen","ddRef","navigate","onDoc","e","current","contains","target","document","addEventListener","removeEventListener","handleLogout","localStorage","removeItem","window","dispatchEvent","Event","className","children","ref","onClick","v"],"sources":["E:/Resturant/admin/src/components/Topbar.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport '../styles/Topbar.css';\r\n\r\nfunction Topbar() {\r\n  const [open, setOpen] = useState(false);\r\n  const ddRef = useRef();\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    function onDoc(e) {\r\n      if (ddRef.current && !ddRef.current.contains(e.target)) setOpen(false);\r\n    }\r\n    document.addEventListener('click', onDoc);\r\n    return () => document.removeEventListener('click', onDoc);\r\n  }, []);\r\n\r\n  function handleLogout() {\r\n    localStorage.removeItem('admin_token');\r\n    try { window.dispatchEvent(new Event('app:logout')); } catch(e){}\r\n    navigate('/login');\r\n  }\r\n\r\n  return (\r\n    <header className=\"topbar\">\r\n      <div className=\"topbar-title\">Restaurant Booking Admin</div>\r\n      <div className=\"topbar-actions\" ref={ddRef}>\r\n        <button className=\"profile-btn\" onClick={() => setOpen(v => !v)} aria-haspopup=\"true\" aria-expanded={open}>\r\n          <span className=\"admin-avatar\">A</span>\r\n        </button>\r\n        {open && (\r\n          <div className=\"profile-dropdown\">\r\n            <button className=\"dropdown-item\" onClick={() => { setOpen(false); navigate('/settings'); }}>Profile</button>\r\n            <button className=\"dropdown-item\" onClick={handleLogout}>Logout</button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Topbar;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,MAAM,CAAEC,SAAS,KAAQ,OAAO,CAC1D,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,sBAAsB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE9B,QAAS,CAAAC,MAAMA,CAAA,CAAG,CAChB,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGV,QAAQ,CAAC,KAAK,CAAC,CACvC,KAAM,CAAAW,KAAK,CAAGV,MAAM,CAAC,CAAC,CACtB,KAAM,CAAAW,QAAQ,CAAGT,WAAW,CAAC,CAAC,CAE9BD,SAAS,CAAC,IAAM,CACd,QAAS,CAAAW,KAAKA,CAACC,CAAC,CAAE,CAChB,GAAIH,KAAK,CAACI,OAAO,EAAI,CAACJ,KAAK,CAACI,OAAO,CAACC,QAAQ,CAACF,CAAC,CAACG,MAAM,CAAC,CAAEP,OAAO,CAAC,KAAK,CAAC,CACxE,CACAQ,QAAQ,CAACC,gBAAgB,CAAC,OAAO,CAAEN,KAAK,CAAC,CACzC,MAAO,IAAMK,QAAQ,CAACE,mBAAmB,CAAC,OAAO,CAAEP,KAAK,CAAC,CAC3D,CAAC,CAAE,EAAE,CAAC,CAEN,QAAS,CAAAQ,YAAYA,CAAA,CAAG,CACtBC,YAAY,CAACC,UAAU,CAAC,aAAa,CAAC,CACtC,GAAI,CAAEC,MAAM,CAACC,aAAa,CAAC,GAAI,CAAAC,KAAK,CAAC,YAAY,CAAC,CAAC,CAAE,CAAE,MAAMZ,CAAC,CAAC,CAAC,CAChEF,QAAQ,CAAC,QAAQ,CAAC,CACpB,CAEA,mBACEL,KAAA,WAAQoB,SAAS,CAAC,QAAQ,CAAAC,QAAA,eACxBvB,IAAA,QAAKsB,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAC,0BAAwB,CAAK,CAAC,cAC5DrB,KAAA,QAAKoB,SAAS,CAAC,gBAAgB,CAACE,GAAG,CAAElB,KAAM,CAAAiB,QAAA,eACzCvB,IAAA,WAAQsB,SAAS,CAAC,aAAa,CAACG,OAAO,CAAEA,CAAA,GAAMpB,OAAO,CAACqB,CAAC,EAAI,CAACA,CAAC,CAAE,CAAC,gBAAc,MAAM,CAAC,gBAAetB,IAAK,CAAAmB,QAAA,cACxGvB,IAAA,SAAMsB,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAC,GAAC,CAAM,CAAC,CACjC,CAAC,CACRnB,IAAI,eACHF,KAAA,QAAKoB,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC/BvB,IAAA,WAAQsB,SAAS,CAAC,eAAe,CAACG,OAAO,CAAEA,CAAA,GAAM,CAAEpB,OAAO,CAAC,KAAK,CAAC,CAAEE,QAAQ,CAAC,WAAW,CAAC,CAAE,CAAE,CAAAgB,QAAA,CAAC,SAAO,CAAQ,CAAC,cAC7GvB,IAAA,WAAQsB,SAAS,CAAC,eAAe,CAACG,OAAO,CAAET,YAAa,CAAAO,QAAA,CAAC,QAAM,CAAQ,CAAC,EACrE,CACN,EACE,CAAC,EACA,CAAC,CAEb,CAEA,cAAe,CAAApB,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}