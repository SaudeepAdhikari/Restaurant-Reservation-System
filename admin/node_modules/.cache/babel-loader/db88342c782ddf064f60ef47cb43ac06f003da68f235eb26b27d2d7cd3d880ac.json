{"ast":null,"code":"import React,{useEffect,useState}from'react';import DataTable from'../components/DataTable';import{authFetch}from'../utils/auth';import'../styles/Bookings.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Bookings(){const[data,setData]=useState([]);useEffect(()=>{authFetch('/api/admin/bookings').then(setData).catch(console.error);},[]);async function handleUpdateStatus(row){const id=row._id||row.id;const next=window.prompt('Enter new status (e.g., Confirmed, Cancelled, Pending):',row.status||'');if(!next)return;try{const res=await authFetch(\"/api/admin/bookings/\".concat(id,\"/status\"),{method:'PUT',body:JSON.stringify({status:next})});setData(d=>d.map(x=>x._id===id||x.id===id?res:x));}catch(err){console.error(err);}}return/*#__PURE__*/_jsxs(\"div\",{className:\"bookings-page\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"All Bookings\"}),/*#__PURE__*/_jsx(DataTable,{columns:[{label:'Customer',key:'customer'},{label:'Restaurant',key:'restaurant'},{label:'Date',key:'date'},{label:'Time',key:'time'},{label:'Status',key:'status'}],data:data,actions:[{label:'Update Status',onClick:handleUpdateStatus}]})]});}export default Bookings;","map":{"version":3,"names":["React","useEffect","useState","DataTable","authFetch","jsx","_jsx","jsxs","_jsxs","Bookings","data","setData","then","catch","console","error","handleUpdateStatus","row","id","_id","next","window","prompt","status","res","concat","method","body","JSON","stringify","d","map","x","err","className","children","columns","label","key","actions","onClick"],"sources":["E:/Resturant/admin/src/pages/Bookings.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport DataTable from '../components/DataTable';\r\nimport { authFetch } from '../utils/auth';\r\nimport '../styles/Bookings.css';\r\n\r\nfunction Bookings() {\r\n  const [data, setData] = useState([]);\r\n\r\n  useEffect(() => {\r\n    authFetch('/api/admin/bookings')\r\n      .then(setData)\r\n      .catch(console.error);\r\n  }, []);\r\n\r\n  async function handleUpdateStatus(row) {\r\n    const id = row._id || row.id;\r\n    const next = window.prompt('Enter new status (e.g., Confirmed, Cancelled, Pending):', row.status || '');\r\n    if (!next) return;\r\n    try {\r\n      const res = await authFetch(`/api/admin/bookings/${id}/status`, { method: 'PUT', body: JSON.stringify({ status: next }) });\r\n      setData(d => d.map(x => (x._id === id || x.id === id) ? res : x));\r\n    } catch (err) { console.error(err); }\r\n  }\r\n\r\n  return (\r\n    <div className=\"bookings-page\">\r\n      <h2>All Bookings</h2>\r\n      <DataTable\r\n        columns={[{label:'Customer',key:'customer'},{label:'Restaurant',key:'restaurant'},{label:'Date',key:'date'},{label:'Time',key:'time'},{label:'Status',key:'status'}]}\r\n        data={data}\r\n        actions={[{label:'Update Status',onClick:handleUpdateStatus}]}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Bookings;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,SAAS,KAAM,yBAAyB,CAC/C,OAASC,SAAS,KAAQ,eAAe,CACzC,MAAO,wBAAwB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEhC,QAAS,CAAAC,QAAQA,CAAA,CAAG,CAClB,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CAEpCD,SAAS,CAAC,IAAM,CACdG,SAAS,CAAC,qBAAqB,CAAC,CAC7BQ,IAAI,CAACD,OAAO,CAAC,CACbE,KAAK,CAACC,OAAO,CAACC,KAAK,CAAC,CACzB,CAAC,CAAE,EAAE,CAAC,CAEN,cAAe,CAAAC,kBAAkBA,CAACC,GAAG,CAAE,CACrC,KAAM,CAAAC,EAAE,CAAGD,GAAG,CAACE,GAAG,EAAIF,GAAG,CAACC,EAAE,CAC5B,KAAM,CAAAE,IAAI,CAAGC,MAAM,CAACC,MAAM,CAAC,yDAAyD,CAAEL,GAAG,CAACM,MAAM,EAAI,EAAE,CAAC,CACvG,GAAI,CAACH,IAAI,CAAE,OACX,GAAI,CACF,KAAM,CAAAI,GAAG,CAAG,KAAM,CAAApB,SAAS,wBAAAqB,MAAA,CAAwBP,EAAE,YAAW,CAAEQ,MAAM,CAAE,KAAK,CAAEC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEN,MAAM,CAAEH,IAAK,CAAC,CAAE,CAAC,CAAC,CAC1HT,OAAO,CAACmB,CAAC,EAAIA,CAAC,CAACC,GAAG,CAACC,CAAC,EAAKA,CAAC,CAACb,GAAG,GAAKD,EAAE,EAAIc,CAAC,CAACd,EAAE,GAAKA,EAAE,CAAIM,GAAG,CAAGQ,CAAC,CAAC,CAAC,CACnE,CAAE,MAAOC,GAAG,CAAE,CAAEnB,OAAO,CAACC,KAAK,CAACkB,GAAG,CAAC,CAAE,CACtC,CAEA,mBACEzB,KAAA,QAAK0B,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5B7B,IAAA,OAAA6B,QAAA,CAAI,cAAY,CAAI,CAAC,cACrB7B,IAAA,CAACH,SAAS,EACRiC,OAAO,CAAE,CAAC,CAACC,KAAK,CAAC,UAAU,CAACC,GAAG,CAAC,UAAU,CAAC,CAAC,CAACD,KAAK,CAAC,YAAY,CAACC,GAAG,CAAC,YAAY,CAAC,CAAC,CAACD,KAAK,CAAC,MAAM,CAACC,GAAG,CAAC,MAAM,CAAC,CAAC,CAACD,KAAK,CAAC,MAAM,CAACC,GAAG,CAAC,MAAM,CAAC,CAAC,CAACD,KAAK,CAAC,QAAQ,CAACC,GAAG,CAAC,QAAQ,CAAC,CAAE,CACrK5B,IAAI,CAAEA,IAAK,CACX6B,OAAO,CAAE,CAAC,CAACF,KAAK,CAAC,eAAe,CAACG,OAAO,CAACxB,kBAAkB,CAAC,CAAE,CAC/D,CAAC,EACC,CAAC,CAEV,CAEA,cAAe,CAAAP,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}