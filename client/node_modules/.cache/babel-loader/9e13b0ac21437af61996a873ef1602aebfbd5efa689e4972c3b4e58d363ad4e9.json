{"ast":null,"code":"import React,{useState,useRef}from'react';import Autocomplete from'./Autocomplete';import FilterMenu from'./FilterMenu';import'../styles/modules/SearchBar.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function SearchBar(){const[query,setQuery]=useState('');const[filters,setFilters]=useState({rating:null,budget:null,openOnly:false});const inputRef=useRef(null);const handleVoice=()=>{if(!('webkitSpeechRecognition'in window||'SpeechRecognition'in window)){alert('Voice search not supported in this browser');return;}const SpeechRecognition=window.SpeechRecognition||window.webkitSpeechRecognition;const sr=new SpeechRecognition();sr.lang='en-US';sr.interimResults=false;sr.onresult=e=>{const txt=e.results[0][0].transcript;setQuery(txt);inputRef.current&&(inputRef.current.value=txt);};sr.onerror=()=>{};sr.start();};return/*#__PURE__*/_jsxs(\"div\",{className:\"searchbar-root\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"search-input-wrap\",children:[/*#__PURE__*/_jsx(\"input\",{ref:inputRef,className:\"searchBar\",placeholder:\"Search by name, cuisine, or location...\",value:query,onChange:e=>setQuery(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{className:\"micBtn\",onClick:handleVoice,\"aria-label\":\"Voice search\",children:\"\\uD83C\\uDFA4\"}),/*#__PURE__*/_jsx(\"button\",{className:\"searchBtn\",children:\"Search\"}),/*#__PURE__*/_jsx(FilterMenu,{filters:filters,onChange:setFilters})]}),/*#__PURE__*/_jsx(Autocomplete,{query:query,onSelect:val=>{setQuery(val);inputRef.current&&(inputRef.current.value=val);}})]});}","map":{"version":3,"names":["React","useState","useRef","Autocomplete","FilterMenu","jsx","_jsx","jsxs","_jsxs","SearchBar","query","setQuery","filters","setFilters","rating","budget","openOnly","inputRef","handleVoice","window","alert","SpeechRecognition","webkitSpeechRecognition","sr","lang","interimResults","onresult","e","txt","results","transcript","current","value","onerror","start","className","children","ref","placeholder","onChange","target","onClick","onSelect","val"],"sources":["E:/Resturant/client/src/components/SearchBar.js"],"sourcesContent":["import React, { useState, useRef } from 'react';\r\nimport Autocomplete from './Autocomplete';\r\nimport FilterMenu from './FilterMenu';\r\nimport '../styles/modules/SearchBar.css';\r\n\r\nexport default function SearchBar() {\r\n  const [query, setQuery] = useState('');\r\n  const [filters, setFilters] = useState({ rating: null, budget: null, openOnly: false });\r\n  const inputRef = useRef(null);\r\n\r\n  const handleVoice = () => {\r\n    if (!('webkitSpeechRecognition' in window || 'SpeechRecognition' in window)) {\r\n      alert('Voice search not supported in this browser');\r\n      return;\r\n    }\r\n    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\r\n    const sr = new SpeechRecognition();\r\n    sr.lang = 'en-US';\r\n    sr.interimResults = false;\r\n    sr.onresult = (e) => {\r\n      const txt = e.results[0][0].transcript;\r\n      setQuery(txt);\r\n      inputRef.current && (inputRef.current.value = txt);\r\n    };\r\n    sr.onerror = () => {};\r\n    sr.start();\r\n  };\r\n\r\n  return (\r\n    <div className=\"searchbar-root\">\r\n      <div className=\"search-input-wrap\">\r\n        <input\r\n          ref={inputRef}\r\n          className=\"searchBar\"\r\n          placeholder=\"Search by name, cuisine, or location...\"\r\n          value={query}\r\n          onChange={(e) => setQuery(e.target.value)}\r\n        />\r\n        <button className=\"micBtn\" onClick={handleVoice} aria-label=\"Voice search\">ðŸŽ¤</button>\r\n        <button className=\"searchBtn\">Search</button>\r\n        <FilterMenu filters={filters} onChange={setFilters} />\r\n      </div>\r\n      <Autocomplete query={query} onSelect={(val) => { setQuery(val); inputRef.current && (inputRef.current.value = val); }} />\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,MAAM,KAAQ,OAAO,CAC/C,MAAO,CAAAC,YAAY,KAAM,gBAAgB,CACzC,MAAO,CAAAC,UAAU,KAAM,cAAc,CACrC,MAAO,iCAAiC,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEzC,cAAe,SAAS,CAAAC,SAASA,CAAA,CAAG,CAClC,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACW,OAAO,CAAEC,UAAU,CAAC,CAAGZ,QAAQ,CAAC,CAAEa,MAAM,CAAE,IAAI,CAAEC,MAAM,CAAE,IAAI,CAAEC,QAAQ,CAAE,KAAM,CAAC,CAAC,CACvF,KAAM,CAAAC,QAAQ,CAAGf,MAAM,CAAC,IAAI,CAAC,CAE7B,KAAM,CAAAgB,WAAW,CAAGA,CAAA,GAAM,CACxB,GAAI,EAAE,yBAAyB,EAAI,CAAAC,MAAM,EAAI,mBAAmB,EAAI,CAAAA,MAAM,CAAC,CAAE,CAC3EC,KAAK,CAAC,4CAA4C,CAAC,CACnD,OACF,CACA,KAAM,CAAAC,iBAAiB,CAAGF,MAAM,CAACE,iBAAiB,EAAIF,MAAM,CAACG,uBAAuB,CACpF,KAAM,CAAAC,EAAE,CAAG,GAAI,CAAAF,iBAAiB,CAAC,CAAC,CAClCE,EAAE,CAACC,IAAI,CAAG,OAAO,CACjBD,EAAE,CAACE,cAAc,CAAG,KAAK,CACzBF,EAAE,CAACG,QAAQ,CAAIC,CAAC,EAAK,CACnB,KAAM,CAAAC,GAAG,CAAGD,CAAC,CAACE,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAACC,UAAU,CACtCnB,QAAQ,CAACiB,GAAG,CAAC,CACbX,QAAQ,CAACc,OAAO,GAAKd,QAAQ,CAACc,OAAO,CAACC,KAAK,CAAGJ,GAAG,CAAC,CACpD,CAAC,CACDL,EAAE,CAACU,OAAO,CAAG,IAAM,CAAC,CAAC,CACrBV,EAAE,CAACW,KAAK,CAAC,CAAC,CACZ,CAAC,CAED,mBACE1B,KAAA,QAAK2B,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7B5B,KAAA,QAAK2B,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChC9B,IAAA,UACE+B,GAAG,CAAEpB,QAAS,CACdkB,SAAS,CAAC,WAAW,CACrBG,WAAW,CAAC,yCAAyC,CACrDN,KAAK,CAAEtB,KAAM,CACb6B,QAAQ,CAAGZ,CAAC,EAAKhB,QAAQ,CAACgB,CAAC,CAACa,MAAM,CAACR,KAAK,CAAE,CAC3C,CAAC,cACF1B,IAAA,WAAQ6B,SAAS,CAAC,QAAQ,CAACM,OAAO,CAAEvB,WAAY,CAAC,aAAW,cAAc,CAAAkB,QAAA,CAAC,cAAE,CAAQ,CAAC,cACtF9B,IAAA,WAAQ6B,SAAS,CAAC,WAAW,CAAAC,QAAA,CAAC,QAAM,CAAQ,CAAC,cAC7C9B,IAAA,CAACF,UAAU,EAACQ,OAAO,CAAEA,OAAQ,CAAC2B,QAAQ,CAAE1B,UAAW,CAAE,CAAC,EACnD,CAAC,cACNP,IAAA,CAACH,YAAY,EAACO,KAAK,CAAEA,KAAM,CAACgC,QAAQ,CAAGC,GAAG,EAAK,CAAEhC,QAAQ,CAACgC,GAAG,CAAC,CAAE1B,QAAQ,CAACc,OAAO,GAAKd,QAAQ,CAACc,OAAO,CAACC,KAAK,CAAGW,GAAG,CAAC,CAAE,CAAE,CAAE,CAAC,EACtH,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}