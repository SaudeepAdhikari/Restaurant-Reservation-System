{"ast":null,"code":"var _jsxFileName = \"E:\\\\Resturant\\\\client\\\\src\\\\pages\\\\Restaurants.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport RestaurantCard from '../components/RestaurantCard';\nimport Spinner from '../components/common/Spinner';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Restaurants() {\n  _s();\n  const [restaurants, setRestaurants] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  useEffect(() => {\n    let mounted = true;\n    setLoading(true);\n    const base = process.env.REACT_APP_API_BASE || 'http://localhost:5000';\n    fetch(`${base}/api/restaurants`).then(res => {\n      if (!res.ok) throw new Error(`HTTP ${res.status}`);\n      return res.json();\n    }).then(data => {\n      if (!mounted) return;\n      if (Array.isArray(data)) {\n        setRestaurants(data);\n      } else if (data && Array.isArray(data.value)) {\n        setRestaurants(data.value);\n      } else if (data && Array.isArray(data.restaurants)) {\n        setRestaurants(data.restaurants);\n      } else {\n        setRestaurants([]);\n        setError('Unexpected response shape from server');\n      }\n      setError(null);\n    }).catch(err => {\n      console.error('Failed to fetch restaurants', err);\n      if (mounted) setError(err.message || String(err));\n    }).finally(() => {\n      if (mounted) setLoading(false);\n    });\n    return () => {\n      mounted = false;\n    };\n  }, []);\n  const filteredRestaurants = restaurants.filter(r => r.name.toLowerCase().includes(searchTerm.toLowerCase()) || r.cuisine && r.cuisine.toLowerCase().includes(searchTerm.toLowerCase()));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page-wrapper\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"page-title\",\n        children: \"All Restaurants\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"page-subtitle\",\n        children: \"Discover the best dining experiences near you. Filter by cuisine, location, or name.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"filters-bar\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"search-input\",\n          placeholder: \"Search restaurants or cuisines...\",\n          value: searchTerm,\n          onChange: e => setSearchTerm(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-center\",\n        style: {\n          padding: '4rem'\n        },\n        children: /*#__PURE__*/_jsxDEV(Spinner, {\n          size: 40\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 78\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 21\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-state\",\n        children: [\"Failed to load restaurants: \", error]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 19\n      }, this), !loading && !error && filteredRestaurants.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"empty-state\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"No restaurants found\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Try adjusting your search terms.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid-responsive\",\n        children: filteredRestaurants.map(r => /*#__PURE__*/_jsxDEV(RestaurantCard, {\n          restaurant: r\n        }, r._id || r.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n}\n_s(Restaurants, \"8B/LD3XSsaXwZTmr6z9QghlsiuQ=\");\n_c = Restaurants;\nvar _c;\n$RefreshReg$(_c, \"Restaurants\");","map":{"version":3,"names":["React","useEffect","useState","RestaurantCard","Spinner","jsxDEV","_jsxDEV","Restaurants","_s","restaurants","setRestaurants","loading","setLoading","error","setError","searchTerm","setSearchTerm","mounted","base","process","env","REACT_APP_API_BASE","fetch","then","res","ok","Error","status","json","data","Array","isArray","value","catch","err","console","message","String","finally","filteredRestaurants","filter","r","name","toLowerCase","includes","cuisine","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","onChange","e","target","style","padding","size","length","map","restaurant","_id","id","_c","$RefreshReg$"],"sources":["E:/Resturant/client/src/pages/Restaurants.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport RestaurantCard from '../components/RestaurantCard';\r\nimport Spinner from '../components/common/Spinner';\r\n\r\nexport default function Restaurants() {\r\n  const [restaurants, setRestaurants] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    setLoading(true);\r\n    const base = process.env.REACT_APP_API_BASE || 'http://localhost:5000';\r\n    fetch(`${base}/api/restaurants`)\r\n      .then(res => { if (!res.ok) throw new Error(`HTTP ${res.status}`); return res.json(); })\r\n      .then(data => {\r\n        if (!mounted) return;\r\n        if (Array.isArray(data)) {\r\n          setRestaurants(data);\r\n        } else if (data && Array.isArray(data.value)) {\r\n          setRestaurants(data.value);\r\n        } else if (data && Array.isArray(data.restaurants)) {\r\n          setRestaurants(data.restaurants);\r\n        } else {\r\n          setRestaurants([]);\r\n          setError('Unexpected response shape from server');\r\n        }\r\n        setError(null);\r\n      })\r\n      .catch(err => { console.error('Failed to fetch restaurants', err); if (mounted) setError(err.message || String(err)); })\r\n      .finally(() => { if (mounted) setLoading(false); });\r\n    return () => { mounted = false; };\r\n  }, []);\r\n\r\n  const filteredRestaurants = restaurants.filter(r =>\r\n    r.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n    (r.cuisine && r.cuisine.toLowerCase().includes(searchTerm.toLowerCase()))\r\n  );\r\n\r\n  return (\r\n    <div className=\"page-wrapper\">\r\n      <div className=\"page-header\">\r\n        <h1 className=\"page-title\">All Restaurants</h1>\r\n        <p className=\"page-subtitle\">Discover the best dining experiences near you. Filter by cuisine, location, or name.</p>\r\n      </div>\r\n\r\n      <div className=\"page-container\">\r\n        <div className=\"filters-bar\">\r\n          <input\r\n            type=\"text\"\r\n            className=\"search-input\"\r\n            placeholder=\"Search restaurants or cuisines...\"\r\n            value={searchTerm}\r\n            onChange={(e) => setSearchTerm(e.target.value)}\r\n          />\r\n        </div>\r\n\r\n        {loading && <div className=\"flex-center\" style={{ padding: '4rem' }}><Spinner size={40} /></div>}\r\n        {error && <div className=\"error-state\">Failed to load restaurants: {error}</div>}\r\n\r\n        {!loading && !error && filteredRestaurants.length === 0 && (\r\n          <div className=\"empty-state\">\r\n            <h3>No restaurants found</h3>\r\n            <p>Try adjusting your search terms.</p>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"grid-responsive\">\r\n          {filteredRestaurants.map(r => (\r\n            <RestaurantCard key={r._id || r.id} restaurant={r} />\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}