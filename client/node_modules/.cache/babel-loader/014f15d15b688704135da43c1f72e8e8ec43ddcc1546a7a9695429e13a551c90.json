{"ast":null,"code":"var _jsxFileName = \"E:\\\\Resturant\\\\client\\\\src\\\\pages\\\\BookingConfirmation.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useRef } from 'react';\nimport { useLocation, useParams, Link } from 'react-router-dom';\nimport '../styles/Booking.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction BookingConfirmation() {\n  _s();\n  var _booking$restaurantId;\n  const {\n    state\n  } = useLocation();\n  const {\n    id\n  } = useParams();\n  const bookingWrapper = state && state.booking ? state.booking : null;\n  const initialBooking = bookingWrapper && bookingWrapper.booking ? bookingWrapper.booking : bookingWrapper;\n  const [booking, setBooking] = useState(initialBooking);\n  const [loading, setLoading] = useState(!initialBooking && !!id);\n  const [error, setError] = useState(null);\n  const detailsRef = useRef(null);\n  const base = process.env.REACT_APP_API_BASE || process.env.REACT_APP_API_URL || 'http://localhost:5000';\n  useEffect(() => {\n    if (!booking && id) {\n      setLoading(true);\n      fetch(`${base}/api/bookings/${id}`).then(res => {\n        if (!res.ok) throw new Error(`HTTP ${res.status}`);\n        return res.json();\n      }).then(b => setBooking(b)).catch(err => setError(err.message || String(err))).finally(() => setLoading(false));\n    }\n  }, [id, booking, base]);\n  useEffect(() => {\n    if (booking && detailsRef.current) {\n      detailsRef.current.scrollIntoView({\n        behavior: 'smooth'\n      });\n    }\n  }, [booking]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"booking-confirmation\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Booking Confirmed!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading booking details...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 19\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error\",\n      children: [\"Failed to load booking: \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 17\n    }, this), booking ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"booking-details\",\n      ref: detailsRef,\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Restaurant:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 14\n        }, this), \" \", ((_booking$restaurantId = booking.restaurantId) === null || _booking$restaurantId === void 0 ? void 0 : _booking$restaurantId.name) || booking.restaurantId]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Date:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 14\n        }, this), \" \", booking.date]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Time:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 14\n        }, this), \" \", booking.time]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Guests:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 14\n        }, this), \" \", booking.guests]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Table:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 14\n        }, this), \" \", booking.table || '—']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }, this) : !loading && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Your table has been reserved. We look forward to serving you.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 24\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      className: \"btn-primary\",\n      to: \"/booking/history\",\n      children: \"View Booking History\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n}\n_s(BookingConfirmation, \"6XlJ1FW2Ni5vpm8e+1eVwPS+wIA=\", false, function () {\n  return [useLocation, useParams];\n});\n_c = BookingConfirmation;\nexport default BookingConfirmation;\nvar _c;\n$RefreshReg$(_c, \"BookingConfirmation\");","map":{"version":3,"names":["React","useEffect","useState","useRef","useLocation","useParams","Link","jsxDEV","_jsxDEV","BookingConfirmation","_s","_booking$restaurantId","state","id","bookingWrapper","booking","initialBooking","setBooking","loading","setLoading","error","setError","detailsRef","base","process","env","REACT_APP_API_BASE","REACT_APP_API_URL","fetch","then","res","ok","Error","status","json","b","catch","err","message","String","finally","current","scrollIntoView","behavior","className","children","fileName","_jsxFileName","lineNumber","columnNumber","ref","restaurantId","name","date","time","guests","table","to","_c","$RefreshReg$"],"sources":["E:/Resturant/client/src/pages/BookingConfirmation.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\r\nimport { useLocation, useParams, Link } from 'react-router-dom';\r\nimport '../styles/Booking.css';\r\n\r\nfunction BookingConfirmation() {\r\n  const { state } = useLocation();\r\n  const { id } = useParams();\r\n  const bookingWrapper = state && state.booking ? state.booking : null;\r\n  const initialBooking = bookingWrapper && bookingWrapper.booking ? bookingWrapper.booking : bookingWrapper;\r\n  const [booking, setBooking] = useState(initialBooking);\r\n  const [loading, setLoading] = useState(!initialBooking && !!id);\r\n  const [error, setError] = useState(null);\r\n  const detailsRef = useRef(null);\r\n\r\n  const base = process.env.REACT_APP_API_BASE || process.env.REACT_APP_API_URL || 'http://localhost:5000';\r\n\r\n  useEffect(() => {\r\n    if (!booking && id) {\r\n      setLoading(true);\r\n      fetch(`${base}/api/bookings/${id}`)\r\n        .then(res => { if (!res.ok) throw new Error(`HTTP ${res.status}`); return res.json(); })\r\n        .then(b => setBooking(b))\r\n        .catch(err => setError(err.message || String(err)))\r\n        .finally(() => setLoading(false));\r\n    }\r\n  }, [id, booking, base]);\r\n\r\n  useEffect(() => {\r\n    if (booking && detailsRef.current) {\r\n      detailsRef.current.scrollIntoView({ behavior: 'smooth' });\r\n    }\r\n  }, [booking]);\r\n\r\n  return (\r\n    <div className=\"booking-confirmation\">\r\n      <h2>Booking Confirmed!</h2>\r\n      {loading && <div>Loading booking details...</div>}\r\n      {error && <div className=\"error\">Failed to load booking: {error}</div>}\r\n      {booking ? (\r\n        <div className=\"booking-details\" ref={detailsRef}>\r\n          <p><strong>Restaurant:</strong> {booking.restaurantId?.name || booking.restaurantId}</p>\r\n          <p><strong>Date:</strong> {booking.date}</p>\r\n          <p><strong>Time:</strong> {booking.time}</p>\r\n          <p><strong>Guests:</strong> {booking.guests}</p>\r\n          <p><strong>Table:</strong> {booking.table || '—'}</p>\r\n        </div>\r\n      ) : (!loading && <p>Your table has been reserved. We look forward to serving you.</p>)}\r\n      <Link className=\"btn-primary\" to=\"/booking/history\">View Booking History</Link>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BookingConfirmation;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}